<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aksh's Blog</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; padding: 20px; }
    h1 { text-align: center; }
    ul { list-style: none; padding: 0; }
    li { margin: 12px 0; }
    a { color: #0077cc; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>Aksh's Blogs</h1>
  <ul id="blog-list">Loading blogs...</ul>
  <script>
    const username = "akshhthakkar";  // your GitHub username
    const repo = "akshhthakkar.github.io";  // your GitHub Pages repo name
    const blogFolder = "blog";  // folder where your blog posts are stored
    const blogList = document.getElementById("blog-list");
    const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${blogFolder}`;
    
    fetch(apiUrl)
      .then(res => res.json())
      .then(data => {
        blogList.innerHTML = ""; // clear loading text
        
        data.forEach(file => {
          if(file.name.endsWith(".html") || file.name.endsWith(".md")) {
            // Remove file extension for display
            const postName = file.name.replace(/\.html|\.md/, "").replace(/-/g, " ");
            
            // Create list item with link to the blog file
            const li = document.createElement("li");
            li.innerHTML = `<a href="${blogFolder}/${file.name}" target="_blank">${postName.charAt(0).toUpperCase() + postName.slice(1)}</a>`;
            blogList.appendChild(li);
          }
        });
      })
      .catch(err => {
        blogList.innerHTML = "Failed to load blogs.";
        console.error(err);
      });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Blog posts by Aksh Thakkar, a Computer Science student at Parul University, covering web development, AI, and technology insights." />
  <meta property="og:title" content="Aksh Thakkar - Blogs" />
  <meta property="og:description" content="Explore web development, AI, and tech insights by Aksh Thakkar." />
  <meta property="og:url" content="https://akshhthakkar.github.io/blog.html" />
  <meta property="og:type" content="website" />
  <meta http-equiv="Permissions-Policy" content="ch-ua-form-factor=(self), ch-ua-model=(self)" />
  <title>Aksh Thakkar - Blogs</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.2/marked.min.js"></script>
  <style>
    /* Your full CSS remains unchanged, for brevity not repeated here */
  </style>
</head>
<body data-theme="light">
  <nav class="nb">
    <a href="index.html" class="nb-b"><strong>Aksh</strong></a>
    <ul class="nb-l">
      <li><a href="index.html#about">About</a></li>
      <li><a href="index.html#certifications">Certifications</a></li>
      <li><a href="blog.html">Blogs</a></li>
      <li><a href="repositories.html">Repositories</a></li>
      <li class="dts">
        <label class="ts" aria-label="Toggle dark mode">
          <input type="checkbox" id="t-d" />
          <span class="sld">
            <i class="fas fa-sun ik fs"></i>
            <i class="fas fa-moon ik fm"></i>
          </span>
        </label>
      </li>
    </ul>
    <div class="mcg">
      <label class="ts" aria-label="Toggle dark mode">
        <input type="checkbox" id="t-m" />
        <span class="sld">
          <i class="fas fa-sun ik fs"></i>
          <i class="fas fa-moon ik fm"></i>
        </span>
      </label>
      <button class="ham" aria-label="Toggle navigation menu">☰</button>
    </div>
  </nav>

  <section class="ct">
    <div class="hr">
      <h1>My Blogs</h1>
      <p>Exploring web development, AI, and technology insights from local posts and DEV.to.</p>
    </div>
    <div class="bg" id="bl"></div>
  </section>

  <footer class="ft">
    <p>© 2025 Aksh Thakkar</p>
  </footer>

  <script>
    const staticBlogs = [
      {
        t: "Sajhkasj",
        u: "article.html?id=123456&slug=sajhkasj-o33",
        d: "A brief description of my new post.",
        s: "DEV.to",
        dt: "2025-05-26"
      },
      {
        t: "How to Build a Portfolio Website with HTML and JavaScript",
        u: "article.html?id=123456&slug=how-to-build-a-portfolio-website",
        d: "Learn how to create a stunning portfolio website using HTML, JavaScript, and CSS.",
        s: "DEV.to",
        dt: "2025-05-01"
      },
      {
        t: "Getting Started with AI: A Beginner's Guide",
        u: "article.html?id=123457&slug=getting-started-with-ai",
        d: "An introduction to artificial intelligence concepts for beginners.",
        s: "DEV.to",
        dt: "2025-04-15"
      },
      {
        t: "Responsive Web Design Tips",
        u: "article.html?id=123458&slug=responsive-web-design-tips",
        d: "Best practices for creating responsive layouts that work on all devices.",
        s: "DEV.to",
        dt: "2025-03-20"
      }
    ];

    const b = document.body;
    const d = document.getElementById("t-d");
    const m = document.getElementById("t-m");
    const h = document.querySelector(".ham");
    const n = document.querySelector(".nb-l");

    function setTheme(theme) {
      b.setAttribute("data-theme", theme);
      d.checked = m.checked = theme === "dark";
      localStorage.setItem("theme", theme);
    }

    const savedTheme = localStorage.getItem("theme") || "light";
    setTheme(savedTheme);
    [d, m].forEach(c => c && c.addEventListener("change", () => {
      setTheme(c.checked ? "dark" : "light");
    }));

    if (h && n) {
      h.addEventListener("click", () => n.classList.toggle("active"));
      h.addEventListener("keydown", e => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          n.classList.toggle("active");
        }
      });
    }

    document.querySelectorAll(".nb-l li a").forEach(i => {
      i.addEventListener("click", () => {
        if (n.classList.contains("active")) n.classList.remove("active");
      });
    });

    function lz(e, c) {
      const o = new IntersectionObserver((t, r) => {
        t.forEach(i => {
          if (i.isIntersecting) {
            c(i.target);
            r.unobserve(i.target);
          }
        });
      }, { rootMargin: "100px" });
      o.observe(e);
    }

    function renderBlogs(allBlogs) {
      const container = document.getElementById("bl");
      container.innerHTML = "";
      allBlogs
        .sort((a, b) => new Date(b.dt) - new Date(a.dt))
        .forEach(blog => {
          const div = document.createElement("div");
          div.className = "bc";
          div.setAttribute("role", "article");
          div.innerHTML = `
            <a href="${blog.u}" class="btl" aria-label="Read ${blog.t}">${blog.t}</a>
            <div class="bm">
              <span><i class="fas fa-calendar-alt" aria-hidden="true"></i> ${new Date(blog.dt).toLocaleDateString()}</span>
              <span><i class="fas fa-globe" aria-hidden="true"></i> ${blog.s}</span>
            </div>
            <p>${blog.d}</p>
            <a href="${blog.u}" class="bl" aria-label="Read more about ${blog.t}">Read More <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
          `;
          document.getElementById("bl").appendChild(div);
          lz(div, el => el.classList.add("visible"));
        });
    }

    // Show static blogs immediately
    renderBlogs(staticBlogs);

    // Fetch blogs from DEV.to
    fetch(`https://dev.to/api/articles?username=akshthakkar&per_page=30&_=${Date.now()}`, { cache: "no-store" })
      .then(res => res.json())
      .then(devPosts => {
        const devBlogs = devPosts.map(p => ({
          t: p.title,
          u: `article.html?id=${p.id}&slug=${encodeURIComponent(p.slug)}`,
          d: p.description || "No excerpt available.",
          s: "DEV.to",
          dt: p.published_at
        }));
        renderBlogs([...devBlogs, ...staticBlogs]);
      })
      .catch(err => {
        console.error("Failed to fetch DEV.to blogs:", err);
      });
  </script>
</body>
</html>